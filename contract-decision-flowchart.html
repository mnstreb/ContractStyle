<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Type Decision Flowchart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* A little custom style to ensure a minimum height for the body */
        body {
            min-height: 100vh;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 to-slate-800 text-white font-sans p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl md:text-4xl font-bold text-center mb-3">
            Contract Type Decision Flowchart
        </h1>
        <p class="text-center text-slate-300 mb-8">
            Click through the questions to find the right contract type
        </p>

        <!-- START -->
        <div class="flex flex-col items-center mb-3">
            <div class="border-2 border-white p-4 rounded-lg bg-slate-800 max-w-md text-center">
                <p class="text-lg font-bold">START: Is the scope of work clearly defined?</p>
            </div>
        </div>

        <div class="flex justify-center mb-3">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
        </div>

        <!-- First Level - YES/NO -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 mb-4 max-w-5xl mx-auto">
            <!-- LEFT BRANCH - YES -->
            <div class="flex flex-col items-center">
                <button id="btn-yes" class="text-center mb-3 p-3 rounded border-2 bg-slate-700 border-slate-400 hover:border-green-400 w-full transition-all">
                    <p class="font-bold">YES — scope is clear.</p>
                    <p class="text-sm">Drawings complete.</p>
                </button>
                
                <div id="path-yes-down" class="hidden w-full">
                    <div class="flex justify-center">
                        <svg class="w-6 h-6 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                    </div>
                    <div class="border-2 border-slate-400 p-4 rounded-lg bg-slate-700 w-full">
                        <p class="font-semibold text-center text-sm">
                            Do you want total cost certainty (no surprises)?
                        </p>
                    </div>
                </div>
            </div>

            <!-- RIGHT BRANCH - NO -->
            <div class="flex flex-col items-center">
                <button id="btn-no" class="text-center mb-3 p-3 rounded border-2 bg-slate-700 border-slate-400 hover:border-blue-400 w-full transition-all">
                    <p class="font-bold">NO — scope unclear, evolving,</p>
                    <p class="text-sm">or exploratory. Need flexibility.</p>
                </button>
                
                <div id="path-no-down" class="hidden w-full">
                     <div class="flex justify-center">
                        <svg class="w-6 h-6 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                    </div>
                    <div class="border-2 border-slate-400 p-4 rounded-lg bg-slate-700 w-full">
                        <p class="font-semibold text-center text-sm">
                            Can you set an upper budget limit or control spend?
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Level Answers -->
        <div id="second-level" class="hidden grid-cols-1 md:grid-cols-4 gap-8 mb-4 max-w-6xl mx-auto">
            <!-- YES path options -->
            <div id="second-level-yes-yes" class="flex flex-col items-center">
                <button class="text-center mb-2 text-sm p-3 rounded border-2 w-full transition-all bg-slate-700 border-slate-400 hover:border-green-400">
                    <p class="font-bold">YES — cost certainty</p>
                    <p>and minimal admin work.</p>
                </button>
                <div class="arrow-container hidden">
                    <svg class="w-5 h-5 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>
            <div id="second-level-yes-no" class="flex flex-col items-center">
                <button class="text-center mb-2 text-sm p-3 rounded border-2 w-full transition-all bg-slate-700 border-slate-400 hover:border-green-400">
                    <p class="font-bold">NO — prefer</p>
                    <p>flexibility.</p>
                </button>
                 <div class="arrow-container hidden">
                    <svg class="w-5 h-5 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>
            
            <!-- NO path options (with spacers) -->
             <div id="second-level-no-spacer-1"></div>
             <div id="second-level-no-spacer-2"></div>
            <div id="second-level-no-yes" class="flex flex-col items-center">
                <button class="text-center mb-2 text-sm p-3 rounded border-2 w-full transition-all bg-slate-700 border-slate-400 hover:border-blue-400">
                    <p class="font-bold">YES — want cap.</p>
                    <p>Need budget control.</p>
                </button>
                 <div class="arrow-container hidden">
                    <svg class="w-5 h-5 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>
            <div id="second-level-no-no" class="flex flex-col items-center">
                <button class="text-center mb-2 text-sm p-3 rounded border-2 w-full transition-all bg-slate-700 border-slate-400 hover:border-blue-400">
                    <p class="font-bold">NO — open-ended,</p>
                    <p>fast-move work.</p>
                </button>
                 <div class="arrow-container hidden">
                    <svg class="w-5 h-5 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>
        </div>

        <!-- Contract Type Boxes -->
        <div id="contract-level" class="hidden grid-cols-1 md:grid-cols-4 gap-8 mb-6 max-w-6xl mx-auto">
             <div id="contract-fixedPrice" class="md:col-start-1">
                <button class="border-2 p-4 rounded-lg transition-all w-full h-full border-slate-400 bg-slate-700 hover:border-green-400">
                    <p class="font-bold mb-2 text-center">Fixed Price / Lump Sum</p>
                    <ul class="text-xs space-y-1 text-left list-disc list-inside">
                        <li>Scope known</li>
                        <li>Contractor risk</li>
                        <li>Predictable cost</li>
                    </ul>
                </button>
            </div>
             <div id="contract-unitRate" class="md:col-start-2">
                <button class="border-2 p-4 rounded-lg transition-all w-full h-full border-slate-400 bg-slate-700 hover:border-green-400">
                    <p class="font-bold mb-2 text-center">Unit Rate / Schedule of Values</p>
                    <ul class="text-xs space-y-1 text-left list-disc list-inside">
                        <li>Repetitive work</li>
                        <li>Quantities vary</li>
                        <li>Shared risk</li>
                    </ul>
                </button>
            </div>
             <div id="contract-tmNTE" class="md:col-start-3">
                <button class="border-2 p-4 rounded-lg transition-all w-full h-full border-slate-400 bg-slate-700 hover:border-blue-400">
                    <p class="font-bold mb-2 text-center">T&M with NTE</p>
                    <p class="text-xs mb-2 text-center">(Time & Materials + Not-to-Exceed Cap)</p>
                    <ul class="text-xs space-y-1 text-left list-disc list-inside">
                        <li>Scope unclear but need budget limit</li>
                    </ul>
                </button>
            </div>
             <div id="contract-pureTM" class="md:col-start-4">
                <button class="border-2 p-4 rounded-lg transition-all w-full h-full border-slate-400 bg-slate-700 hover:border-blue-400">
                    <p class="font-bold mb-2 text-center">Pure T&M</p>
                    <p class="text-xs mb-2 text-center">(Open Time & Material billing)</p>
                    <ul class="text-xs space-y-1 text-left list-disc list-inside">
                        <li>Emergencies / troubleshooting</li>
                    </ul>
                </button>
            </div>
        </div>

        <!-- RESULT -->
        <div id="result-box" class="hidden mt-8 max-w-2xl mx-auto">
            <div class="bg-gradient-to-r from-green-600 to-blue-600 p-6 md:p-8 rounded-xl shadow-2xl">
                <div class="flex items-center gap-3 mb-4">
                     <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><path d="m9 11 3 3L22 4"></path></svg>
                    <h2 class="text-2xl md:text-3xl font-bold">Your Contract Type:</h2>
                </div>
                <p id="result-name" class="text-xl md:text-2xl font-bold mb-3"></p>
                <p id="result-desc" class="text-base md:text-lg text-slate-100"></p>
            </div>
        </div>

        <!-- Reset Button -->
        <div id="reset-container" class="hidden text-center mt-6">
            <button id="reset-btn" class="px-6 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg font-semibold transition-colors">
                Reset & Try Again
            </button>
        </div>
    </div>

    <script>
        const contracts = {
            'fixedPrice': { name: 'Fixed Price / Lump Sum', desc: 'Best when scope is well-defined. You know exactly what you\'ll pay, and the contractor takes on the risk of cost overruns.' },
            'unitRate': { name: 'Unit Rate / Schedule of Values', desc: 'Great for repetitive work where quantities may vary. You pay per unit (e.g., per square foot, per item) with shared risk.' },
            'tmNTE': { name: 'T&M with NTE (Not-to-Exceed Cap)', desc: 'Flexible time and materials billing, but with a maximum budget cap to protect you from runaway costs.' },
            'pureTM': { name: 'Pure T&M (Open Time & Material)', desc: 'Maximum flexibility for emergencies and troubleshooting. Pay for actual time and materials used, no cap.' },
        };

        let selectedPath = [];
        let selectedContract = null;

        const btnYes = document.getElementById('btn-yes');
        const btnNo = document.getElementById('btn-no');
        const pathYesDown = document.getElementById('path-yes-down');
        const pathNoDown = document.getElementById('path-no-down');
        const secondLevel = document.getElementById('second-level');
        const contractLevel = document.getElementById('contract-level');
        const resultBox = document.getElementById('result-box');
        const resetContainer = document.getElementById('reset-container');
        const resetBtn = document.getElementById('reset-btn');

        const secondLevelYesYes = document.getElementById('second-level-yes-yes');
        const secondLevelYesNo = document.getElementById('second-level-yes-no');
        const secondLevelNoYes = document.getElementById('second-level-no-yes');
        const secondLevelNoNo = document.getElementById('second-level-no-no');
        const secondLevelNoSpacer1 = document.getElementById('second-level-no-spacer-1');
        const secondLevelNoSpacer2 = document.getElementById('second-level-no-spacer-2');
        
        const allSecondLevel = [secondLevelYesYes, secondLevelYesNo, secondLevelNoYes, secondLevelNoNo, secondLevelNoSpacer1, secondLevelNoSpacer2];

        const contractFixedPrice = document.getElementById('contract-fixedPrice');
        const contractUnitRate = document.getElementById('contract-unitRate');
        const contractTmNTE = document.getElementById('contract-tmNTE');
        const contractPureTM = document.getElementById('contract-pureTM');

        const allContracts = [contractFixedPrice, contractUnitRate, contractTmNTE, contractPureTM];

        function reset() {
            selectedPath = [];
            selectedContract = null;

            btnYes.classList.remove('bg-green-900/50', 'border-green-400', 'scale-105');
            btnNo.classList.remove('bg-blue-900/50', 'border-blue-400', 'scale-105');

            pathYesDown.classList.add('hidden');
            pathNoDown.classList.add('hidden');

            secondLevel.classList.add('hidden');
            secondLevel.classList.remove('grid');

            allSecondLevel.forEach(el => {
                el.classList.add('hidden');
                const button = el.querySelector('button');
                if(button) {
                    button.classList.remove('bg-green-900/50', 'border-green-400', 'scale-105', 'bg-blue-900/50', 'border-blue-400');
                }
                const arrow = el.querySelector('.arrow-container');
                if (arrow) arrow.classList.add('hidden');
            });
            
            contractLevel.classList.add('hidden');
            contractLevel.classList.remove('grid');
            allContracts.forEach(el => {
                el.classList.add('hidden');
                const button = el.querySelector('button');
                 if(button) {
                    button.classList.remove('border-green-400', 'bg-green-900/50', 'scale-105', 'border-blue-400', 'bg-blue-900/50');
                }
            });

            resultBox.classList.add('hidden');
            resetContainer.classList.add('hidden');
        }

        function handleFirstChoice(choice) {
            reset();
            selectedPath = [choice];
            
            resetContainer.classList.remove('hidden');
            secondLevel.classList.add('grid');
            secondLevel.classList.remove('hidden');

            if (choice === 'yes') {
                btnYes.classList.add('bg-green-900/50', 'border-green-400', 'scale-105');
                pathYesDown.classList.remove('hidden');
                secondLevelYesYes.classList.remove('hidden');
                secondLevelYesNo.classList.remove('hidden');
            } else {
                btnNo.classList.add('bg-blue-900/50', 'border-blue-400', 'scale-105');
                pathNoDown.classList.remove('hidden');
                secondLevelNoYes.classList.remove('hidden');
                secondLevelNoNo.classList.remove('hidden');
                secondLevelNoSpacer1.classList.remove('hidden');
                secondLevelNoSpacer2.classList.remove('hidden');
            }
        }
        
        function handleSecondChoice(choice) {
            selectedPath = [selectedPath[0], choice];
            selectedContract = null;

            // Reset second level styles
            [secondLevelYesYes, secondLevelYesNo, secondLevelNoYes, secondLevelNoNo].forEach(el => {
                 const button = el.querySelector('button');
                 button.classList.remove('bg-green-900/50', 'border-green-400', 'scale-105', 'bg-blue-900/50', 'border-blue-400');
                 const arrow = el.querySelector('.arrow-container');
                 if (arrow) arrow.classList.add('hidden');
            });
            // Reset contract styles and visibility
            contractLevel.classList.add('hidden');
            contractLevel.classList.remove('grid');
             allContracts.forEach(el => {
                el.classList.add('hidden');
                const button = el.querySelector('button');
                button.classList.remove('border-green-400', 'bg-green-900/50', 'scale-105', 'border-blue-400', 'bg-blue-900/50');
            });


            let targetEl, colorClass, borderColor;
            if (selectedPath[0] === 'yes') {
                targetEl = choice === 'yes' ? secondLevelYesYes : secondLevelYesNo;
                colorClass = 'bg-green-900/50';
                borderColor = 'border-green-400';
            } else {
                targetEl = choice === 'yes' ? secondLevelNoYes : secondLevelNoNo;
                colorClass = 'bg-blue-900/50';
                borderColor = 'border-blue-400';
            }

            targetEl.querySelector('button').classList.add(colorClass, borderColor, 'scale-105');
            targetEl.querySelector('.arrow-container').classList.remove('hidden');

            contractLevel.classList.add('grid');
            contractLevel.classList.remove('hidden');
            resultBox.classList.add('hidden');

            if (selectedPath[0] === 'yes' && selectedPath[1] === 'yes') contractFixedPrice.classList.remove('hidden');
            if (selectedPath[0] === 'yes' && selectedPath[1] === 'no') contractUnitRate.classList.remove('hidden');
            if (selectedPath[0] === 'no' && selectedPath[1] === 'yes') contractTmNTE.classList.remove('hidden');
            if (selectedPath[0] === 'no' && selectedPath[1] === 'no') contractPureTM.classList.remove('hidden');
        }

        function handleContractChoice(contractKey) {
            selectedContract = contractKey;
            
            // Reset styles
             allContracts.forEach(el => {
                const button = el.querySelector('button');
                button.classList.remove('border-green-400', 'bg-green-900/50', 'scale-105', 'border-blue-400', 'bg-blue-900/50');
            });
            
            let targetEl, colorClass, borderColor;
             if (selectedPath[0] === 'yes') {
                colorClass = 'bg-green-900/50';
                borderColor = 'border-green-400';
            } else {
                colorClass = 'bg-blue-900/50';
                borderColor = 'border-blue-400';
            }

            if (contractKey === 'fixedPrice') targetEl = contractFixedPrice;
            if (contractKey === 'unitRate') targetEl = contractUnitRate;
            if (contractKey === 'tmNTE') targetEl = contractTmNTE;
            if (contractKey === 'pureTM') targetEl = contractPureTM;
            
            targetEl.querySelector('button').classList.add(borderColor, colorClass, 'scale-105');

            document.getElementById('result-name').textContent = contracts[contractKey].name;
            document.getElementById('result-desc').textContent = contracts[contractKey].desc;
            resultBox.classList.remove('hidden');
        }

        btnYes.addEventListener('click', () => handleFirstChoice('yes'));
        btnNo.addEventListener('click', () => handleFirstChoice('no'));
        resetBtn.addEventListener('click', reset);

        secondLevelYesYes.querySelector('button').addEventListener('click', () => handleSecondChoice('yes'));
        secondLevelYesNo.querySelector('button').addEventListener('click', () => handleSecondChoice('no'));
        secondLevelNoYes.querySelector('button').addEventListener('click', () => handleSecondChoice('yes'));
        secondLevelNoNo.querySelector('button').addEventListener('click', () => handleSecondChoice('no'));
        
        contractFixedPrice.querySelector('button').addEventListener('click', () => handleContractChoice('fixedPrice'));
        contractUnitRate.querySelector('button').addEventListener('click', () => handleContractChoice('unitRate'));
        contractTmNTE.querySelector('button').addEventListener('click', () => handleContractChoice('tmNTE'));
        contractPureTM.querySelector('button').addEventListener('click', () => handleContractChoice('pureTM'));

    </script>

</body>
</html>


